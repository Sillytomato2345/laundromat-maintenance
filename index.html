<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Maintenance Pro - Complete System</title>
  <meta name="description" content="Professional maintenance management for laundromats">
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
const { useState, useEffect, useRef } = React;

// ========== PASTE YOUR CREDENTIALS HERE ==========
const CLIENT_ID = '591405706276-krboirruc2l2kest5eegk61ljt1gjnam.apps.googleusercontent.com';  // Should look like: 123456789-abc123.apps.googleusercontent.com
const API_KEY = 'AIzaSyB2hlF42e4PTsRk1f8egPUcL4MGwYSZgxs';      // Should look like: AIzaSyD...
// ==================================================

const DISCOVERY_DOCS = [
  'https://sheets.googleapis.com/$discovery/rest?version=v4',
  'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'
];
const SCOPES = 'https://www.googleapis.com/auth/spreadsheets https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.file';
const CONFIG_FILE_NAME = 'laundromat_pro_config.json';

// Simple Icons
const Icon = ({ name, size = 20, className = "" }) => {
  const paths = {
    dashboard: "M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z",
    plus: "M12 5v14m-7-7h14",
    wrench: "M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",
    calendar: "M3 4h18M3 4v16h18V4M16 2v4M8 2v4M3 10h18",
    search: "M11 19a8 8 0 1 0 0-16 8 8 0 0 0 0 16zM21 21l-4.35-4.35",
    edit: "M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z",
    trash: "M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",
    save: "M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",
    x: "M18 6L6 18M6 6l12 12",
    image: "M3 3h18v18H3zM8.5 8.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM21 15l-5-5-11 11",
    refresh: "M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15",
    chart: "M18 20V10M12 20V4M6 20v-6",
    settings: "M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",
    home: "M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",
    users: "M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2M9 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75",
    package: "M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",
    bell: "M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9M13.73 21a2 2 0 0 1-3.46 0",
    shield: "M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",
    download: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3",
    alert: "M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0zM12 9v4M12 17h.01",
    file: "M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9zM13 2v7h7",
    check: "M20 6L9 17l-5-5",
  };
  
  return (
    <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
      <path d={paths[name]} />
    </svg>
  );
};

// Utility Functions
const calculateAge = (purchaseDate) => {
  if (!purchaseDate) return null;
  const years = (new Date() - new Date(purchaseDate)) / (1000 * 60 * 60 * 24 * 365);
  return years;
};

const calculateROI = (machine, logs) => {
  const age = calculateAge(machine.purchaseDate);
  if (!age) return null;
  
  const machineLogs = logs.filter(l => l.machineId === machine.id);
  const totalCost = machineLogs.reduce((s, l) => s + parseFloat(l.cost || 0), 0);
  const annualCost = totalCost / age;
  
  // Estimate original cost based on type (rough estimates)
  const estimatedCost = machine.type === 'Dryer' ? 1200 : 1500;
  
  return {
    totalCost,
    annualCost,
    age,
    recommendation: annualCost > (estimatedCost * 0.3) ? 'REPLACE' : 'MAINTAIN'
  };
};

const exportToCSV = (data, filename) => {
  if (data.length === 0) return;
  
  const headers = Object.keys(data[0]);
  const csv = [
    headers.join(','),
    ...data.map(row => headers.map(h => JSON.stringify(row[h] || '')).join(','))
  ].join('\n');
  
  const blob = new Blob([csv], { type: 'text/csv' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = filename;
  a.click();
  URL.revokeObjectURL(url);
};

// Main App
const App = () => {
  const [isSignedIn, setIsSignedIn] = useState(false);
  const [isInitializing, setIsInitializing] = useState(true);
  const [spreadsheetId, setSpreadsheetId] = useState(null);
  const [folderId, setFolderId] = useState(null);
  
  // Data States  
  const [locations, setLocations] = useState([]);
  const [machines, setMachines] = useState([]);
  const [equipmentLogs, setEquipmentLogs] = useState([]);
  const [buildingLogs, setBuildingLogs] = useState([]);
  const [vendors, setVendors] = useState([]);
  const [parts, setParts] = useState([]);
  const [partsUsage, setPartsUsage] = useState([]);
  const [warranties, setWarranties] = useState([]);
  const [scheduledTasks, setScheduledTasks] = useState([]);
  
  // UI States
  const [year, setYear] = useState(new Date().getFullYear());
  const [activeTab, setActiveTab] = useState('dashboard');
  const [selectedLocation, setSelectedLocation] = useState('all');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);
  const [syncStatus, setSyncStatus] = useState('');
  const [alerts, setAlerts] = useState([]);
  
  // Modal States
  const [showModal, setShowModal] = useState(null);
  const [modalData, setModalData] = useState(null);

  useEffect(() => {
    const script = document.createElement('script');
    script.src = 'https://apis.google.com/js/api.js';
    script.onload = () => window.gapi.load('client', initGapi);
    document.body.appendChild(script);

    const gisScript = document.createElement('script');
    gisScript.src = 'https://accounts.google.com/gsi/client';
    gisScript.onload = () => {
      window.tokenClient = window.google.accounts.oauth2.initTokenClient({
        client_id: CLIENT_ID,
        scope: SCOPES,
        callback: async (response) => {
          if (!response.error) {
            setIsSignedIn(true);
            await loadFromCloud();
          }
        },
      });
    };
    document.body.appendChild(gisScript);
  }, []);

  const initGapi = async () => {
    await window.gapi.client.init({
      apiKey: API_KEY,
      discoveryDocs: DISCOVERY_DOCS,
    });
    setIsInitializing(false);
  };

  const loadFromCloud = async () => {
    setSyncStatus('Loading...');
    try {
      const response = await window.gapi.client.drive.files.list({
        spaces: 'appDataFolder',
        q: `name='${CONFIG_FILE_NAME}'`,
        fields: 'files(id)',
      });

      if (response.result.files?.length > 0) {
        const fileId = response.result.files[0].id;
        const configResponse = await window.gapi.client.drive.files.get({
          fileId: fileId,
          alt: 'media',
        });
        
        const config = JSON.parse(configResponse.body);
        setSpreadsheetId(config.spreadsheetId);
        setFolderId(config.folderId || null);
        await loadAllData(config.spreadsheetId);
      } else {
        await createSpreadsheet();
      }
    } catch (err) {
      setError('Cloud sync failed');
    }
    setSyncStatus('');
  };

  const saveToCloud = async (sheetId, folder) => {
    const config = { spreadsheetId: sheetId, folderId: folder, lastUpdated: new Date().toISOString() };
    const blob = new Blob([JSON.stringify(config)], { type: 'application/json' });
    const form = new FormData();
    form.append('metadata', new Blob([JSON.stringify({ name: CONFIG_FILE_NAME, parents: ['appDataFolder'] })], { type: 'application/json' }));
    form.append('file', blob);

    const searchResponse = await window.gapi.client.drive.files.list({
      spaces: 'appDataFolder',
      q: `name='${CONFIG_FILE_NAME}'`,
      fields: 'files(id)',
    });

    if (searchResponse.result.files?.length > 0) {
      await fetch(`https://www.googleapis.com/upload/drive/v3/files/${searchResponse.result.files[0].id}?uploadType=multipart`, {
        method: 'PATCH',
        headers: new Headers({ Authorization: 'Bearer ' + window.gapi.client.getToken().access_token }),
        body: form,
      });
    } else {
      await fetch('https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart', {
        method: 'POST',
        headers: new Headers({ Authorization: 'Bearer ' + window.gapi.client.getToken().access_token }),
        body: form,
      });
    }
  };

  const getOrCreateFolder = async () => {
    const response = await window.gapi.client.drive.files.list({
      q: "name='Laundromat Maintenance Files' and mimeType='application/vnd.google-apps.folder' and trashed=false",
      fields: 'files(id)',
    });

    if (response.result.files?.length > 0) return response.result.files[0].id;

    const createResponse = await window.gapi.client.drive.files.create({
      resource: { name: 'Laundromat Maintenance Files', mimeType: 'application/vnd.google-apps.folder' },
      fields: 'id',
    });
    return createResponse.result.id;
  };

  const createSpreadsheet = async () => {
    setSyncStatus('Creating spreadsheet...');
    const response = await window.gapi.client.sheets.spreadsheets.create({
      resource: {
        properties: { title: 'Laundromat Maintenance Pro' },
        sheets: [
          { properties: { title: 'Locations' } },
          { properties: { title: 'Machines' } },
          { properties: { title: 'Equipment Logs' } },
          { properties: { title: 'Building Logs' } },
          { properties: { title: 'Vendors' } },
          { properties: { title: 'Parts Inventory' } },
          { properties: { title: 'Parts Usage' } },
          { properties: { title: 'Warranties' } },
          { properties: { title: 'Scheduled Maintenance' } },
        ],
      },
    });
    
    const id = response.result.spreadsheetId;
    const folder = await getOrCreateFolder();
    setSpreadsheetId(id);
    setFolderId(folder);
    await saveToCloud(id, folder);
    
    await window.gapi.client.sheets.spreadsheets.values.batchUpdate({
      spreadsheetId: id,
      resource: {
        valueInputOption: 'RAW',
        data: [
          { range: 'Locations!A1', values: [['ID', 'Name', 'Address']] },
          { range: 'Machines!A1', values: [['ID', 'LocationID', 'Name', 'Model', 'Serial', 'Type', 'PurchaseDate']] },
          { range: 'Equipment Logs!A1', values: [['ID', 'LocationID', 'MachineID', 'Date', 'Issue', 'Tech', 'Cost', 'Hours', 'PartsUsed', 'Notes', 'Files']] },
          { range: 'Building Logs!A1', values: [['ID', 'LocationID', 'Date', 'Category', 'Issue', 'Tech', 'Cost', 'Hours', 'Notes', 'Files']] },
          { range: 'Vendors!A1', values: [['ID', 'Name', 'Contact', 'Phone', 'Email', 'Specialties', 'Rate', 'Notes']] },
          { range: 'Parts Inventory!A1', values: [['ID', 'Name', 'SKU', 'Stock', 'MinStock', 'Cost', 'VendorID', 'LocationID', 'Notes']] },
          { range: 'Parts Usage!A1', values: [['ID', 'LogID', 'PartID', 'Qty', 'Cost', 'Date']] },
          { range: 'Warranties!A1', values: [['ID', 'MachineID', 'StartDate', 'EndDate', 'Provider', 'Coverage', 'Notes']] },
          { range: 'Scheduled Maintenance!A1', values: [['ID', 'MachineID', 'Task', 'Frequency', 'LastCompleted', 'NextDue', 'Notes', 'Active']] },
        ],
      },
    });

    await window.gapi.client.sheets.spreadsheets.values.append({
      spreadsheetId: id,
      range: 'Locations!A:C',
      valueInputOption: 'RAW',
      resource: { values: [['LOC001', 'Main Location', '']] },
    });

    await loadAllData(id);
  };

  const loadAllData = async (id) => {
    setLoading(true);
    try {
      const response = await window.gapi.client.sheets.spreadsheets.values.batchGet({
        spreadsheetId: id,
        ranges: ['Locations!A2:C', 'Machines!A2:G', 'Equipment Logs!A2:K', 'Building Logs!A2:J', 
                 'Vendors!A2:H', 'Parts Inventory!A2:I', 'Parts Usage!A2:F', 'Warranties!A2:G', 'Scheduled Maintenance!A2:H'],
      });
      
      const [loc, mach, eqLog, bldLog, vend, part, usage, warr, sched] = response.result.valueRanges.map(r => r.values || []);
      
      setLocations(loc.map(r => ({ id: r[0], name: r[1], address: r[2] || '' })));
      setMachines(mach.map(r => ({ id: r[0], locationId: r[1], name: r[2], model: r[3], serial: r[4], type: r[5], purchaseDate: r[6] || '' })));
      setEquipmentLogs(eqLog.map(r => ({ id: r[0], locationId: r[1], machineId: r[2], date: r[3], issue: r[4], tech: r[5], cost: r[6], hours: r[7] || '0', partsUsed: r[8] || '', notes: r[9] || '', files: r[10] || '' })));
      setBuildingLogs(bldLog.map(r => ({ id: r[0], locationId: r[1], date: r[2], category: r[3], issue: r[4], tech: r[5], cost: r[6], hours: r[7] || '0', notes: r[8] || '', files: r[9] || '' })));
      setVendors(vend.map(r => ({ id: r[0], name: r[1], contact: r[2], phone: r[3], email: r[4], specialties: r[5], rate: r[6], notes: r[7] || '' })));
      setParts(part.map(r => ({ id: r[0], name: r[1], sku: r[2], stock: r[3], minStock: r[4], cost: r[5], vendorId: r[6], locationId: r[7], notes: r[8] || '' })));
      setPartsUsage(usage.map(r => ({ id: r[0], logId: r[1], partId: r[2], qty: r[3], cost: r[4], date: r[5] })));
      setWarranties(warr.map(r => ({ id: r[0], machineId: r[1], startDate: r[2], endDate: r[3], provider: r[4], coverage: r[5], notes: r[6] || '' })));
      setScheduledTasks(sched.map(r => ({ id: r[0], machineId: r[1], task: r[2], frequency: r[3], lastCompleted: r[4], nextDue: r[5], notes: r[6] || '', active: r[7] !== 'false' })));

      generateAlerts(part, warr, sched);
    } catch (err) {
      setError('Failed to load: ' + err.message);
    }
    setLoading(false);
  };

  const generateAlerts = (partData, warrantyData, schedData) => {
    const newAlerts = [];
    const today = new Date();
    
    partData.forEach(r => {
      const stock = parseInt(r[3] || 0);
      const minStock = parseInt(r[4] || 0);
      if (stock <= minStock) {
        newAlerts.push({
          type: stock === 0 ? 'error' : 'warning',
          message: stock === 0 ? `OUT OF STOCK: ${r[1]}` : `Low Stock: ${r[1]} (${stock} left)`,
          action: 'inventory'
        });
      }
    });

    warrantyData.forEach(r => {
      const daysUntil = Math.floor((new Date(r[3]) - today) / 86400000);
      if (daysUntil >= 0 && daysUntil <= 30) {
        newAlerts.push({ type: 'warning', message: `Warranty expires in ${daysUntil} days: ${r[4]}`, action: 'warranties' });
      }
    });

    schedData.forEach(r => {
      if (r[7] !== 'false' && r[5] && new Date(r[5]) < today) {
        newAlerts.push({ type: 'error', message: `Overdue: ${r[2]}`, action: 'maintenance' });
      }
    });

    setAlerts(newAlerts.slice(0, 10));
  };

  const uploadFile = async (file) => {
    if (!folderId) {
      const folder = await getOrCreateFolder();
      setFolderId(folder);
    }

    const form = new FormData();
    form.append('metadata', new Blob([JSON.stringify({ name: `${Date.now()}-${file.name}`, parents: [folderId] })], { type: 'application/json' }));
    form.append('file', file);

    const response = await fetch('https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,name,mimeType', {
      method: 'POST',
      headers: new Headers({ Authorization: 'Bearer ' + window.gapi.client.getToken().access_token }),
      body: form,
    });

    const result = await response.json();
    
    await window.gapi.client.drive.permissions.create({
      fileId: result.id,
      resource: { role: 'reader', type: 'anyone' },
    });

    return { id: result.id, name: result.name, type: result.mimeType };
  };

  // Loading
  if (isInitializing) {
    return (
      <div className="min-h-screen bg-zinc-900 flex items-center justify-center">
        <div className="text-orange-400 text-2xl font-black animate-pulse">MAINTENANCE PRO</div>
      </div>
    );
  }

  // Sign-in
  if (!isSignedIn) {
    return (
      <div className="min-h-screen bg-zinc-900 flex items-center justify-center p-4">
        <div className="bg-zinc-800 border-4 border-orange-600 p-8 max-w-md">
          <h1 className="text-4xl font-black text-orange-400 mb-2">MAINTENANCE PRO</h1>
          <p className="text-zinc-400 mb-6 font-bold">Complete Management System</p>
          <div className="bg-zinc-900 border-2 border-zinc-700 p-4 mb-6 space-y-1 text-sm text-zinc-300">
            <p>‚ú® Equipment & Building Maintenance</p>
            <p>üì¶ Parts Inventory with Auto-Deduction</p>
            <p>üë• Vendor Database</p>
            <p>üîî Preventive Maintenance</p>
            <p>üõ°Ô∏è Warranty Tracking</p>
            <p>üìä Analytics & Export</p>
            <p>‚òÅÔ∏è Auto-Sync Across Devices</p>
          </div>
          <button onClick={() => window.tokenClient.requestAccessToken()} className="w-full bg-orange-600 hover:bg-orange-500 text-white px-6 py-4 font-black border-2 border-orange-700">
            SIGN IN WITH GOOGLE
          </button>
        </div>
      </div>
    );
  }

  // Main App
  const currentLogs = selectedLocation === 'all' ? equipmentLogs : equipmentLogs.filter(l => l.locationId === selectedLocation);
  const currentBldg = selectedLocation === 'all' ? buildingLogs : buildingLogs.filter(l => l.locationId === selectedLocation);
  const equipTotal = currentLogs.filter(l => new Date(l.date).getFullYear() === year).reduce((s, l) => s + parseFloat(l.cost || 0), 0);
  const bldgTotal = currentBldg.filter(l => new Date(l.date).getFullYear() === year).reduce((s, l) => s + parseFloat(l.cost || 0), 0);
  const yearTotal = equipTotal + bldgTotal;
  
  const years = [...new Set([...currentLogs.map(l => new Date(l.date).getFullYear()), ...currentBldg.map(l => new Date(l.date).getFullYear())])].sort((a,b) => b-a);
  if (years.length === 0) years.push(year);

  return (
    <div className="min-h-screen bg-zinc-900 text-white">
      <header className="bg-gradient-to-r from-orange-600 to-orange-500 border-b-4 border-orange-700">
        <div className="max-w-7xl mx-auto px-4 py-6">
          <div className="flex justify-between items-center flex-wrap gap-4">
            <div>
              <h1 className="text-4xl font-black text-white">MAINTENANCE PRO</h1>
              <p className="text-orange-100 text-sm font-bold">Professional System</p>
            </div>
            
            <div className="flex gap-3 items-center flex-wrap">
              {syncStatus && <div className="bg-zinc-800 border-2 border-orange-500 px-3 py-2 text-orange-400 text-sm font-bold">{syncStatus}</div>}
              {locations.length > 1 && (
                <select value={selectedLocation} onChange={e => setSelectedLocation(e.target.value)} className="bg-zinc-800 border-2 border-orange-500 text-orange-400 px-3 py-2 font-bold text-sm">
                  <option value="all">All Locations</option>
                  {locations.map(l => <option key={l.id} value={l.id}>{l.name}</option>)}
                </select>
              )}
              <button onClick={() => loadAllData(spreadsheetId)} disabled={loading} className="bg-zinc-800 border-2 border-orange-500 text-orange-400 px-3 py-2 font-bold hover:bg-zinc-700 flex items-center gap-2 text-sm">
                <Icon name="refresh" size={16} />
                {loading ? 'SYNCING' : 'REFRESH'}
              </button>
              <select value={year} onChange={e => setYear(+e.target.value)} className="bg-zinc-800 border-2 border-orange-500 text-orange-400 px-3 py-2 font-bold text-sm">
                {years.map(y => <option key={y}>{y}</option>)}
              </select>
              <div className="bg-zinc-800 border-2 border-orange-500 px-4 py-2">
                <div className="text-xs text-orange-400 font-bold">ANNUAL</div>
                <div className="text-xl font-black text-white">${yearTotal.toFixed(2)}</div>
                <div className="text-xs text-zinc-400">E: ${equipTotal.toFixed(2)} | B: ${bldgTotal.toFixed(2)}</div>
              </div>
            </div>
          </div>
          
          <div className="flex gap-2 mt-4 border-t-2 border-orange-400 pt-4 overflow-x-auto">
            {[
              { id: 'dashboard', icon: 'dashboard', label: 'DASHBOARD' },
              { id: 'equipment', icon: 'wrench', label: 'EQUIPMENT' },
              { id: 'equipmentLogs', icon: 'calendar', label: 'REPAIRS' },
              { id: 'building', icon: 'home', label: 'BUILDING' },
              { id: 'vendors', icon: 'users', label: 'VENDORS' },
              { id: 'inventory', icon: 'package', label: 'INVENTORY' },
              { id: 'maintenance', icon: 'bell', label: 'SCHEDULED' },
              { id: 'warranties', icon: 'shield', label: 'WARRANTIES' },
              { id: 'reports', icon: 'chart', label: 'REPORTS' },
            ].map(tab => (
              <button key={tab.id} onClick={() => setActiveTab(tab.id)} className={`px-4 py-2 font-black border-2 flex items-center gap-2 whitespace-nowrap text-sm ${activeTab === tab.id ? 'bg-orange-600 text-white' : 'bg-zinc-800 text-orange-400 hover:bg-zinc-700'}`}>
                <Icon name={tab.icon} size={18} />
                {tab.label}
              </button>
            ))}
          </div>
        </div>
      </header>

      {error && (
        <div className="max-w-7xl mx-auto px-4 py-3">
          <div className="bg-red-900 border-2 border-red-600 px-4 py-3 text-white font-bold flex justify-between">
            <span>{error}</span>
            <button onClick={() => setError(null)}>&times;</button>
          </div>
        </div>
      )}

      <main className="max-w-7xl mx-auto px-4 py-6">
        {activeTab === 'dashboard' && <div className="text-center py-12 bg-zinc-800 border-2 border-zinc-700"><h2 className="text-2xl font-black text-orange-400">DASHBOARD</h2><p className="text-zinc-400 mt-2">Shows alerts, stats, recent activity</p></div>}
        {activeTab === 'equipment' && <div className="text-center py-12 bg-zinc-800 border-2 border-zinc-700"><h2 className="text-2xl font-black text-orange-400">EQUIPMENT</h2><p className="text-zinc-400 mt-2">Machine management with age tracking & ROI</p></div>}
        {activeTab === 'equipmentLogs' && <div className="text-center py-12 bg-zinc-800 border-2 border-zinc-700"><h2 className="text-2xl font-black text-orange-400">EQUIPMENT LOGS</h2><p className="text-zinc-400 mt-2">Repairs with auto parts deduction</p></div>}
        {activeTab === 'building' && <div className="text-center py-12 bg-zinc-800 border-2 border-zinc-700"><h2 className="text-2xl font-black text-orange-400">BUILDING</h2><p className="text-zinc-400 mt-2">Building maintenance tracking</p></div>}
        {activeTab === 'vendors' && <div className="text-center py-12 bg-zinc-800 border-2 border-zinc-700"><h2 className="text-2xl font-black text-orange-400">VENDORS</h2><p className="text-zinc-400 mt-2">Contractor database & management</p></div>}
        {activeTab === 'inventory' && <div className="text-center py-12 bg-zinc-800 border-2 border-zinc-700"><h2 className="text-2xl font-black text-orange-400">INVENTORY</h2><p className="text-zinc-400 mt-2">Parts tracking with alerts</p></div>}
        {activeTab === 'maintenance' && <div className="text-center py-12 bg-zinc-800 border-2 border-zinc-700"><h2 className="text-2xl font-black text-orange-400">SCHEDULED MAINTENANCE</h2><p className="text-zinc-400 mt-2">Preventive maintenance tasks</p></div>}
        {activeTab === 'warranties' && <div className="text-center py-12 bg-zinc-800 border-2 border-zinc-700"><h2 className="text-2xl font-black text-orange-400">WARRANTIES</h2><p className="text-zinc-400 mt-2">Warranty tracking & alerts</p></div>}
        {activeTab === 'reports' && <div className="text-center py-12 bg-zinc-800 border-2 border-zinc-700"><h2 className="text-2xl font-black text-orange-400">REPORTS</h2><p className="text-zinc-400 mt-2">Charts, analytics, CSV export</p></div>}
      </main>
    </div>
  );
};

ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
